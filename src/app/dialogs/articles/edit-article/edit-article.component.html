<div class="edit-main-dialog" *ngIf="article_data && add_categories">

  <div mat-dialog-title>
    <h3 class="header-text">Makale Özellikleri</h3>
  </div>

  <mat-dialog-content>

    <form #f="ngForm" (ngSubmit)="editArticle(f)">

      <div class="form-group">

        <mat-input-container>
          <input matInput placeholder="Yazar" [ngModel]="article_data.author.name" name="title" disabled>
        </mat-input-container>

      </div>

      <div class="form-group">

        <mat-input-container>
          <input matInput placeholder="Slug" [ngModel]="article_data.slug" name="slug">
        </mat-input-container>

      </div>

      <div class="form-group">

        <img src="{{API_URL + THUMB_URL + article_data.image +'?token=' + getToken()}}" id="img">


        <button mat-raised-button type="button" (click)="openImageSelect()">Resim Seç</button>

      </div>


      <div class="form-group">
        <h5>Kategoriler</h5>

        <ul>
          <li *ngFor="let category_item of categories; let i = index">{{category_item.name}} <span class="" (click)="deleteCategory(i)">X</span></li>
        </ul>

      </div>

      <div class="form-group">

        <mat-select placeholder="Eklenecek Kategori" #addcategory>
          <mat-option *ngFor="let category of add_categories" [value]="category.id">
            {{ category.name }}
          </mat-option>
        </mat-select>

        <button mat-raised-button (click)="addCategory(addcategory)" type="button">Ekle</button>

      </div>

      <button #submit type="submit" style="display:none"></button>

    </form>

    <div class="form-group" *ngIf="user.user_id == article_data.author.user_id || user.role_id == 1">
      <button (click)="openManagePermission()" mat-raised-button>İzinleri Yönet</button>
    </div>

    <div class="form-group">
      <button (click)="deleteArticle()" mat-raised-button>Çöpe taşı</button>
    </div>


  </mat-dialog-content>

  <mat-dialog-actions>

    <button mat-raised-button color="warn" mat-dialog-close>İptal</button>

    <button mat-raised-button (click)="submit.click()" [disabled]="!f.valid">Kaydet</button>

  </mat-dialog-actions>

</div>
